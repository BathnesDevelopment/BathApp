<ion-view view-title="<b>MY</b>REPORTS">
    <ion-content padding="false">
        <div class="row responsive-sm">
            <div class="col">
                <h1 class="pageHeader"><b>My</b>Reports</h1>
                <p>This page shows the reports you have sent to the Council, including those waiting to be sent. To start a new report use the button below.</p>
                <div class="item tabs tabs-primary tabs-icon-left item-divider">
                    <a class="tab-item" ng-click="showPopup('My Reports', 'To start a new report select New Report.  Reports can be completed offline and sent by pressing send when online.')">
                        <i class="icon positive ion-help-circled"></i> Help
                    </a>
                    <a class="tab-item" ng-click="reportIt()">
                        <i class="icon royal ion-compose"></i> New report
                    </a>
                    <a class="tab-item" ng-click="submitReports()">
                        <i class="icon balanced ion-android-send"></i> Send reports
                    </a>
                </div>
                <div class="list list-inset" ng-repeat="(key, data) in (reports | splitObject:'left')">
                    <div class="item">
                        <h2>{{ data.service.service_name }}</h2>
                        <p>Report status: {{ data.status }}</p>
                    </div>
                    <div class="item tabs tabs-secondary tabs-icon-left">
                        <a class="tab-item" ng-click="deleteReport($index)" ng-if="data.status == 'Not sent'">
                            <i class="icon ion-trash-a"></i>
                            Delete
                        </a>
                        <a class="tab-item" ng-if="report.useUserLocation" ng-click="navigateTo('{{data.lat}}','{{data.long}}', 'Report')">
                            <i class="icon ion-map"></i>
                            View on map
                        </a>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="list list-inset" ng-repeat="(key, data) in (reports | splitObject:'right')">
                    <div class="item">
                        <h2>{{ data.service.service_name }}</h2>
                        <p>Report status: {{ data.status }}</p>
                    </div>
                    <div class="item tabs tabs-secondary tabs-icon-left">
                        <a class="tab-item" ng-click="deleteReport($index)" ng-if="data.status == 'Not sent'">
                            <i class="icon ion-trash-a"></i>
                            Delete
                        </a>
                        <a class="tab-item" ng-if="report.useUserLocation" ng-click="navigateTo('{{data.lat}}','{{data.long}}', 'Report')">
                            <i class="icon ion-navigate"></i>
                            View on map
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </ion-content>
</ion-view>