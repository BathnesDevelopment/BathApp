<ion-view view-title="Reports">
    <ion-content padding="false">
        <div class="row responsive-sm">
            <div class="col">
                <div class="card">
                    <div class="item item-text-wrap top-calm">
                        <h1>My Reports</h1>
                    </div>
                    <div class="item item-text-wrap">
                        <p>This page shows the reports you have sent to the Council, including those waiting to be sent. To start a new report use the button below.</p>
                    </div>
                    <div class="item tabs tabs-primary tabs-icon-left item-divider">
                        <a class="tab-item" ng-click="reportIt()">
                            <i class="icon energized ion-compose"></i> New report
                        </a>
                        <a class="tab-item" ng-click="submitReports()">
                            <i class="icon balanced ion-refresh"></i> Sync reports
                        </a>
                    </div>
                </div>
                <div class="list list-inset" ng-repeat="(key, data) in (reports | splitObject:'left')">
                    <div class="item">
                        <h2>{{ data.service.service_name }}</h2>
                        <p>Report status: {{ data.status }}</p>
                    </div>
                    <div class="item tabs tabs-secondary tabs-icon-left">
                        <a class="tab-item" ng-click="deleteReport($index)" ng-if="data.status == 'Not sent'">
                            <i class="icon ion-trash-a"></i>
                            Delete
                        </a>
                        <a class="tab-item" ng-if="report.useUserLocation" ng-click="navigateTo({{data.lat}},{{data.long}})">
                            <i class="icon ion-map"></i>
                            View on map
                        </a>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="list list-inset" ng-repeat="(key, data) in (reports | splitObject:'right')">
                    <div class="item">
                        <h2>{{ data.service.service_name }}</h2>
                        <p>Report status: {{ data.status }}</p>
                    </div>
                    <div class="item tabs tabs-secondary tabs-icon-left">
                        <a class="tab-item" ng-click="deleteReport($index)" ng-if="data.status == 'Not sent'">
                            <i class="icon ion-trash-a"></i>
                            Delete
                        </a>
                        <a class="tab-item" ng-if="report.useUserLocation" ng-click="navigateTo({{data.lat}},{{data.long}})">
                            <i class="icon ion-navigate"></i>
                            View on map
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </ion-content>
</ion-view>