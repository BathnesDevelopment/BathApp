<ion-view view-title="Residents app">
    <ion-content padding="false">
        <div class="row responsive-sm">
            <div class="col">
                <div class="card">
                    <div class="item item-image">
                        <img src="images/logo.svg" />
                    </div>
                    <div class="item tabs item-divider tabs-primary tabs-icon-left">
                        <a class="tab-item" ng-click="showPopup('Bath &amp North East Somerset Council App', 'The Bath &amp North East Somerset Council residents app provides reporting facilities to easily connect with the Council and report issues')">
                            <i class="icon positive ion-information-circled"></i> Info
                        </a>
                        <a class="tab-item" ng-click="textTo('07904649678','Bath app message: ')">
                            <i class="icon energized ion-android-textsms"></i> Text
                        </a>
                        <a class="tab-item" ng-click="emailTo('councilconnect@bathnes.gov.uk')">
                            <i class="icon royal ion-at"></i> Email
                        </a>
                        <a class="tab-item" ng-click="showCouncilConnectPopup()">
                            <i class="icon balanced ion-ios-telephone"></i> Call
                        </a>
                    </div>
                </div>
                <div class="card" ng-show="userData.uprn">
                    <div class="item item-divider top-calm">
                        My details <span ng-show="userData.firstname">({{ userData.firstname + ' ' + userData.lastname }})</span>
                    </div>
                    <div class="item item-text-wrap">
                        <p>Information about any details held about you on this device.  To clear the data held on the device, use the link below.</p>
                    </div>
                    <div class="item item-divider tabs tabs-primary tabs-icon-left">
                        <a class="tab-item" ng-click="deleteData()">
                            <i class="icon assertive ion-android-delete"></i> Remove all data
                        </a>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card" ng-show="!userData.uprn">
                    <div class="item item-divider top-assertive">
                        No details or location set
                    </div>
                    <div class="item item-text-wrap">
                        <p>To begin using this app you need to register and set a location.  Personal details will only be used to customise data shown in the app, and pre-populate report/comment forms.</p>
                    </div>
                    <div class="item item-divider tabs tabs-primary tabs-icon-left">
                        <a class="tab-item" ng-click="register()">
                            <i class="icon balanced ion-ios-location"></i> Set location
                        </a>
                    </div>
                </div>
                <div class="card" ng-show="userData.address">
                    <div class="item item-divider item-text-wrap top-balanced">
                        Address
                    </div>
                    <div class="item item-text-wrap">
                        <p>{{ userData.address }}</p>
                    </div>
                </div>
                <div class="card" ng-show="userData.phone">
                    <div class="item item-divider item-text-wrap top-royal">
                        Contact details
                    </div>
                    <div class="item item-text-wrap">
                        <p>
                            {{ userData.phone }}<br />
                            {{ userData.email }}
                        </p>
                    </div>
                </div>
                <div class="card" ng-if="carParkChart.series[0].data.length > 0">
                    <div class="item item-divider item-text-wrap top-royal">
                        Bath car park available spaces
                    </div>
                    <div class="item item-text-wrap">
                        <highchart id="chtCarParks" config="carParkChart"></highchart>
                    </div>
                    <div class="item item-divider tabs tabs-primary tabs-icon-left">
                        <a class="tab-item" ng-click="updateCarParks()">
                            <i class="icon balanced ion-refresh"></i> Refresh
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </ion-content>
</ion-view>